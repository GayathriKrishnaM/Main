{% extends "admin_panel/admin_base.html" %}
{% load static %}

{% block title %}Catering Management | Admin Panel{% endblock %}

{% block content %}
  <div class="header-bar">
    <h1>Catering Event Management</h1>

  </div>

  <div class="stats-grid">
    <div class="stat-card">
      <h3>Upcoming Events</h3>
      <div class="stat-value">{{ upcoming_events }}</div>
      <small>{{ total_events }} total</small>
    </div>
    <div class="stat-card">
      <h3>Catering Revenue</h3>
      <div class="stat-value">â‚¹{{ catering_revenue }}</div>
      <small>{{ monthly_catering }} this month</small>
    </div>
  </div>

<h2>Event Bookings</h2>
{% if events %}
  <table class="styled-table">
    <thead>
      <tr>
        <th>Event ID</th>
        <th>Customer</th>
        <th>Event Date</th>
        <th>Guest Count</th>
        <th>Amount</th>
        <th>Payment Status</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      {% for event in events %}
      <tr>
        <td>{{ event.id }}</td>
        <td>{{ event.customer.full_name }}</td>
        <td>{{ event.event_date }}</td>
        <td>{{ event.guest_count }}</td>
        <td>{{ event.amount }}</td>
        <td>{{ event.get_payment_status_display }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
{% else %}
  <p>No event bookings found.</p>
{% endif %}
{% endblock %}
