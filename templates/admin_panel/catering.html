{% extends "admin_panel/admin_base.html" %}
{% load static %}

{% block title %}Catering Management | Admin Panel{% endblock %}

{% block content %}
  <div class="header-bar">
    <h1>Catering Event Management</h1>

  </div>

<h2>Event Bookings</h2>
{% if events %}
  <table class="styled-table">
    <thead>
      <tr>
        <th scope="col">S.No</th>
        <th>Customer</th>
        <th>Event Date</th>
        <th>Guest Count</th>
        <th>Amount</th>
        <th>Payment Status</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      {% for event in events %}
      <tr>
        <td>{{ forloop.counter }}</td>
        <td>{{ event.customer.full_name }}</td>
        <td>{{ event.event_date }}</td>
        <td>{{ event.guest_count }}</td>
        <td>{{ event.amount }}</td>
        <td>{{ event.get_payment_status_display }}</td>
        <td>
          <a href="{% url 'custom_admin:view_event' event.pk %}" class="btn-action btn-view">
            <i class="fas fa-eye"></i>
          </a>
          <a href="{% url 'custom_admin:edit_event' event.pk %}" class="btn-action btn-edit">
            <i class="fas fa-edit"></i>
          </a>
        </td>        
      </tr>
      {% endfor %}
    </tbody>
  </table>
{% else %}
  <p>No event bookings found.</p>
{% endif %}
{% endblock %}
