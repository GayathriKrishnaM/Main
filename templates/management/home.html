{% extends "management/base.html" %}

{% block content %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
<!-- Swiper JS -->
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

  <!-- Hero Section -->
  <header class="hero">
    <div class="hero-content">
      <h1>Ganga Restaurant</h1>
      <h2>Experience Culinary Excellence</h2>
      <p>Where passion meets flavor - A symphony of taste crafted just for you</p>
      <div class="cta-buttons">
        <button onclick="window.location.href='{% url 'menu' %}'">
          Explore Menu <i class="fas fa-utensils"></i>
        </button>        
        <button onclick="window.location.href='{% url 'table_reservation' %}'">
          Reserve Table <i class="fas fa-calendar-alt"></i></button>
          <button onclick="window.location.href='{% url 'menu' %}'">
            Order Online <i class="fas fa-utensils"></i>
          </button>        
          <button onclick="window.location.href='{% url 'plan_event' %}'">
          Book Event & Catering 
          <i class="fas fa-glass-cheers"></i>
        </button>
      </div>
    </div>
  </header>
  
  <section class="about" id="about">
    <h2>Our Culinary Journey</h2>
    <p> 
      For over decades, Ganga Restaurant has been more than a dining destination—it is a celebration of heritage, community, and innovation. Rooted in a deep respect for tradition and a passion for culinary artistry, our journey began with a simple vision: to create unforgettable meals that honor the past while embracing the present. Every dish we serve tells a story, woven from the freshest locally-sourced ingredients, time-honored recipes passed down through generations, and a touch of modern creativity that keeps our offerings vibrant and relevant.  
      
      Our commitment to locally-sourced ingredients is at the heart of everything we do. We partner with farmers, fishermen, and artisans across the region, forging relationships built on trust and sustainability. By prioritizing seasonal produce, ethically raised meats, and regional specialties, we not only ensure the highest quality on your plate but also support the livelihoods of our local community. Each ingredient is chosen with care, from the fragrant spices that perfume our kitchens to the crisp vegetables that add color and vitality to every dish. This farm-to-table philosophy isn’t just a trend for us—it’s a promise to preserve the land’s bounty and share its authentic flavors with you.  
      
      The soul of Ganga Restaurant lies in our reverence for tradition. Our menu is a tapestry of recipes steeped in history, many of which have been lovingly preserved from family kitchens and culinary archives. Whether it’s the slow-cooked curries that simmer for hours, the hand-rolled breads baked in clay ovens, or the delicate balance of spices perfected over centuries, we honor these techniques with unwavering dedication. Yet, while we cherish the past, we are not bound by it. Our chefs—masters of both heritage and innovation—reimagine these classics with contemporary flair. Think familiar comfort foods elevated by unexpected textures, global influences that harmonize with regional staples, or artful presentations that delight the eye as much as the palate. This delicate balance of old and new ensures that every meal at Ganga feels both timeless and exciting.  
            
      As we look to the future, our mission remains unchanged: to be a place where food is more than sustenance—it’s a bridge between generations, cultures, and stories. We invite you to be part of this journey, to taste the love and legacy in every dish, and to discover why, for over 30 years, Ganga Restaurant has been a cherished chapter in our guests’ lives. Here, tradition dances with innovation, and every meal is an ode to the land, the people, and the shared joy of breaking bread together. Welcome to our table.</p>
  </section>
  
  <section class="featured-dishes">
    <h2>Signature Creations</h2>
    <div class="dishes">
      <div class="dish">
        <img src="media\\menu_images\\biriyani.jpg" alt="Chicekn Biriyani">
        <h3>Chicken Biriyani</h3>
        {% comment %} <button>Order Now <i class="fas fa-arrow-right"></i></button> {% endcomment %}
      </div>
      <div class="dish">
        <img src="media\\menu_images\\Screenshot_2025-03-03_193557.png" alt="Meals">
        <h3>Meals</h3>
        {% comment %} <button>Order Now <i class="fas fa-arrow-right"></i></button> {% endcomment %}
      </div>
      <div class="dish">
        <img src="media\\menu_images\\Screenshot_2025-03-03_190533.png" alt="Masala Dosa">
        <h3>Masala Dosa</h3>
        {% comment %} <button>Order Now <i class="fas fa-arrow-right"></i></button> {% endcomment %}
      </div>
    </div>
  </section>


  {% comment %} <section class="customer-reviews" id="reviews">
      <h2>What Our Customers Are Saying</h2>
      <div class="reviews-container">
          {% for review in reviews %}
          <div class="review">
              <blockquote>
                  <p>"{{ review.comments }}"</p>
                  <footer>- {{ review.customer.full_name }} 
                      ({% for _ in ''|ljust:review.rating %}★{% endfor %})
                  </footer>
              </blockquote>
          </div>
          {% empty %}
          <p>No customer feedback available yet. Be the first to leave a review!</p>
          {% endfor %}
      </div>
  </section> {% endcomment %}
  <section>
  <div id="reviews-container">Loading reviews...</div>
  </section>
  
  <section class="contact" id="contact">
    <h2>Connect With Us</h2>
    <div class="contact-content">
        <div class="feedback-form">
            <h3>Feedback</h3>
            <p>Share your thoughts with us.</p>
          <form method="post" action="{% url 'submit_feedback' %}">
            {% csrf_token %}

              <label for="message">Message:</label>
              <textarea id="message" name="comments" rows="4" cols="30"></textarea>
              
              <label for="rating">Rating:</label>
              <div class="rating">
                  <input type="radio" name="rating" id="star5" value="5">
                  <label for="star5">&#9733;</label>
                  <input type="radio" name="rating" id="star4" value="4">
                  <label for="star4">&#9733;</label>
                  <input type="radio" name="rating" id="star3" value="3">
                  <label for="star3">&#9733;</label>
                  <input type="radio" name="rating" id="star2" value="2">
                  <label for="star2">&#9733;</label>
                  <input type="radio" name="rating" id="star1" value="1">
                  <label for="star1">&#9733;</label>
              </div>
              
              <input type="submit" value="Submit">
          </form>
          
        </div>
        
        <div class="contact-info">
            <h3>Contact Details</h3>
            <p><i class="fas fa-map-marker-alt"></i><strong></strong> West Hill Beach, Calicut - 5</p>
            <p><i class="fas fa-phone"></i><strong></strong> 9074105604</p>
            <p><i class="fas fa-envelope"></i><strong></strong> restaurantganga01@gmail.com</p>
        </div>
        <div class="map-container">
          <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3912.6749065565873!2d75.76550157486471!3d11.285290688896122!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3ba65edc7687f2f3%3A0x6c77d762cb821523!2sHotel%20Ganga!5e0!3m2!1sen!2sin!4v1740807870572!5m2!1sen!2sin" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>        </div>
    </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', function() {
      const feedbackForm = document.querySelector('.feedback-form');
      feedbackForm.addEventListener('submit', function(event) {
          const rating = document.querySelector('input[name="rating"]:checked');
          const comments = document.getElementById('message').value.trim();
          if (!rating) {
              alert('Please select a rating before submitting.');
              event.preventDefault();
              return;
          }
          if (comments === '') {
            alert('Please enter your feedback message.');
            event.preventDefault();
            return;
          }
          const confirmed = confirm('Are you sure you want to submit this feedback?');
          if (!confirmed) {
              event.preventDefault();
          }
      });
  });
    document.addEventListener("DOMContentLoaded", function () {
        fetch("http://127.0.0.1:8000/rev/")
            .then(response => response.text())
            .then(html => {
                document.getElementById("reviews-container").innerHTML = html;
                
                // Ensure Swiper is initialized after content loads
                new Swiper(".mySwiper", {
                    slidesPerView: 1,
                    spaceBetween: 20,
                    loop: true,
                    autoplay: {
                        delay: 3000,
                        disableOnInteraction: false
                    },
                    pagination: {
                        el: ".swiper-pagination",
                        clickable: true
                    },
                    navigation: {
                        nextEl: ".swiper-button-next",
                        prevEl: ".swiper-button-prev"
                    },
                    breakpoints: {
                        640: { slidesPerView: 1 },
                        768: { slidesPerView: 2 },
                        1024: { slidesPerView: 3 }
                    }
                });
            })
            .catch(error => console.error("Error loading reviews:", error));
    });

</script>
{% endblock %}